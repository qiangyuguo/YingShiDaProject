function dayTurnSecond(e){return 24*e*60*60*1e3}function secondTurnDay(e){return e/1e3/60/60/24}function numDecorated(e){return parseInt(e)<10?"0"+e:e}function transformToDate(e){var t=e.split("-"),a=new Date;return a.setUTCFullYear(t[0],t[1]-1,t[2]),a.setUTCHours(0,0,0,0),a}function limitReasonable(e,t,a){a=void 0!==a&&"function"==typeof a?a:function(){},e.datepicker({format:"yyyy-mm-dd",weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){e.date.valueOf()>t.datepicker("getDate").valueOf()&&(t.datepicker("setDate",e.date),t.datepicker("update")),a()}),t.datepicker({format:"yyyy-mm-dd",weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),a()})}function limitRangeTimes(e,t,a,i){i=void 0!==i&&"function"==typeof i?i:function(){},e.datepicker({format:"yyyy-mm-dd",weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){var n,r=e.date,d=t.datepicker("getDate");r.valueOf()>d.valueOf()&&(t.datepicker("setDate",r),t.datepicker("update")),n=secondTurnDay(d.valueOf()-r.valueOf()),n>a&&(d.setDate(d.getDate()-(n-a)),t.datepicker("setDate",d),t.datepicker("update")),i()}),t.datepicker({format:"yyyy-mm-dd",weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){var n,r=t.date,d=e.datepicker("getDate");t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),n=secondTurnDay(r.valueOf()-d.valueOf()),n>a&&(d.setDate(d.getDate()+(n-a)),e.datepicker("setDate",d),e.datepicker("update")),i()})}function limitPastTimes(e,t,a){a=void 0!==a&&"function"==typeof a?a:function(){};var i=new Date;i.setDate(i.getDate()),e.datepicker({format:"yyyy-mm-dd",endDate:i,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){e.date.valueOf()>t.datepicker("getDate").valueOf()&&(t.datepicker("setDate",e.date),t.datepicker("update")),a()}),t.datepicker({format:"yyyy-mm-dd",endDate:i,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),a()})}function limitPastRangeTimes(e,t,a,i){i=void 0!==i&&"function"==typeof i?i:function(){};var n=new Date;n.setDate(n.getDate()),e.datepicker({format:"yyyy-mm-dd",endDate:n,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){var n,r=e.date,d=t.datepicker("getDate");r.valueOf()>d.valueOf()&&(t.datepicker("setDate",r),t.datepicker("update")),n=secondTurnDay(d.valueOf()-r.valueOf()),n>a&&(d.setDate(d.getDate()-(n-a)),t.datepicker("setDate",d),t.datepicker("update")),i()}),t.datepicker({format:"yyyy-mm-dd",endDate:n,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){var n,r=t.date,d=e.datepicker("getDate");t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),n=secondTurnDay(r.valueOf()-d.valueOf()),n>a&&(d.setDate(d.getDate()+(n-a)),e.datepicker("setDate",d),e.datepicker("update")),i()})}function limitPastUnchoice(e,t,a,i){i=void 0!==i&&"function"==typeof i?i:function(){};var n=new Date;n.setDate(n.getDate()-a),e.datepicker({format:"yyyy-mm-dd",endDate:n,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){e.date.valueOf()>t.datepicker("getDate").valueOf()&&(t.datepicker("setDate",e.date),t.datepicker("update")),i()}),t.datepicker({format:"yyyy-mm-dd",endDate:n,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),i()})}function limitPastRUTimes(e,t,a,i,n){n=void 0!==n&&"function"==typeof n?n:function(){};var r=new Date;r.setDate(r.getDate()-i),e.datepicker({format:"yyyy-mm-dd",endDate:r,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){var i,r=e.date,d=t.datepicker("getDate");r.valueOf()>d.valueOf()&&(t.datepicker("setDate",r),t.datepicker("update")),i=secondTurnDay(d.valueOf()-r.valueOf()),i>a&&(d.setDate(d.getDate()-(i-a)),t.datepicker("setDate",d),t.datepicker("update")),n()}),t.datepicker({format:"yyyy-mm-dd",endDate:r,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){var i,r=t.date,d=e.datepicker("getDate");t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),i=secondTurnDay(r.valueOf()-d.valueOf()),i>a&&(d.setDate(d.getDate()+(i-a)),e.datepicker("setDate",d),e.datepicker("update")),n()})}function limitExistenceTime(e,t,a,i,n){e.val(t),a.val(i),n(e,a)}function limitFutureTime(e,t,a){void 0===a&&(a=1/0);var i=new Date;i.setDate(i.getDate()),e.datepicker({format:"yyyy-mm-dd",startDate:i,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(e){var i,n=e.date,r=t.datepicker("getDate");n.valueOf()>r.valueOf()&&(t.datepicker("setDate",n),t.datepicker("update")),i=secondTurnDay(r.valueOf()-n.valueOf()),i>a&&(r.setDate(r.getDate()-(i-a)),t.datepicker("setDate",r),t.datepicker("update"))}),t.datepicker({format:"yyyy-mm-dd",startDate:i,weekStart:1,startView:2,minView:2,maxView:4,autoclose:!0}).on("changeDate",function(t){var i,n=t.date,r=e.datepicker("getDate");t.date.valueOf()<e.datepicker("getDate").valueOf()&&(e.datepicker("setDate",t.date),e.datepicker("update")),i=secondTurnDay(n.valueOf()-r.valueOf()),i>a&&(r.setDate(r.getDate()+(i-a)),e.datepicker("setDate",r),e.datepicker("update"))})}function ChoiceRangeTime(e,t,a){function i(e){var t=new Date,a=new Date(t.setDate(t.getDate()-e)),i=a.getMonth()+1,n=a.getDate();return 10>i&&(i="0"+i),10>n&&(n="0"+n),a.getFullYear()+"-"+i+"-"+n}{var n=new Date;n.getDay(),n.getDate(),n.getMonth(),n.getFullYear()}return a(e,t),{setRangeTime:function(a){e.val(i(a[0])),e.datepicker("update"),t.val(i(a[1])),t.datepicker("update")}}}function limitChoiceMonth(e,t){var a=[].slice.call(arguments),e=a[0],t=a[1];e.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,autoclose:!0}).on("changeMonth",function(t){var a=new Date(t.date),i=a.getFullYear(),n=a.getMonth()+1;e.val(i+"-"+numDecorated(n))}),t.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,autoclose:!0}).on("changeMonth",function(e){var a=new Date(e.date),i=a.getFullYear(),n=a.getMonth()+1;t.val(i+"-"+numDecorated(n))})}function limitChoiceMonthUnReset(e,t){var a=[].slice.call(arguments),e=a[0],t=a[1];e.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,autoclose:!0}).on("changeMonth",function(t){var a=new Date(t.date),i=a.getFullYear(),n=a.getMonth()+1;e.val(i+"-"+numDecorated(n))}),t.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,autoclose:!0}).on("changeMonth",function(e){var a=new Date(e.date),i=a.getFullYear(),n=a.getMonth()+1;t.val(i+"-"+numDecorated(n))})}function limitPastRangeMonth(e,t,a,i){var n=[].slice.call(arguments),e=n[0],t=n[1],r=new Date;r.setMonth(r.getMonth()-i),e.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,endDate:r,autoclose:!0}).on("changeMonth",function(i){var n=new Date(i.date),r=n.getFullYear(),d=n.getMonth()+1,c=t.datepicker("getDate"),o=c.getFullYear(),u=c.getMonth()+1;i.date>c?(t.datepicker("setDate",i.date),t.datepicker("update")):null!==a&&(r===o?u-d>=a&&(c.setMonth(d+a-2),t.datepicker("setDate",c),t.datepicker("update")):u+12*(o-r)-d>=a&&(n.setMonth(d+a-2),t.datepicker("setDate",n),t.datepicker("update"))),e.val(r+"-"+numDecorated(d))}),t.datepicker({format:"yyyy-mm",startView:3,maxView:4,minView:3,endDate:r,autoclose:!0}).on("changeMonth",function(i){var n=new Date(i.date),r=n.getFullYear(),d=n.getMonth()+1,c=e.datepicker("getDate"),o=c.getFullYear(),u=c.getMonth()+1;i.date<c?(e.datepicker("setDate",i.date),e.datepicker("update")):null!==a&&(o===r?d-u>=a&&(c.setMonth(d-a),e.datepicker("setDate",c),e.datepicker("update")):d+12*(r-o)-u>=a&&(n.setMonth(d-a),e.datepicker("setDate",n),e.datepicker("update"))),t.val(r+"-"+numDecorated(d))})}function ChoiceRangeMonth(e,t,a){function i(e){var t=new Date,a=new Date(t.setMonth(t.getMonth()-e)),i=a.getMonth()+1;return 10>i&&(i="0"+i),a.getFullYear()+"-"+i}{var n=new Date;n.getDay(),n.getDate(),n.getMonth(),n.getFullYear()}return a(e,t),{setRangeMonth:function(a){e.val(i(a[0])),e.datepicker("update"),t.val(i(a[1])),t.datepicker("update")}}}function limitChoiceHour(e,t,a,i){i=void 0!==i&&"function"==typeof i?i:function(){};var n=new Date,r=new Date(t.val()),d=new Date(t.val()),c=new Date(e.val());n.setHours(23,59,59),r.setHours(23,59,59),d.setHours(0,0,0),d.setDate(d.getDate()-a),e.datepicker({format:"yyyy-mm-dd hh:00",startDate:d,endDate:r,startView:2,maxView:4,minView:1,autoclose:!0,minDate:5}).on("changeDate",function(){var n=new Date(e.val()),r=new Date(e.val()),d=new Date;r.setHours(23,59,59),r.setTime(r.getTime()+24*a*60*60*1e3),d.setHours(23,59,59),r>d?t.datepicker("setEndDate",d):t.datepicker("setEndDate",r),t.datepicker("setStartDate",n),i()}),t.datepicker({format:"yyyy-mm-dd hh:59",startDate:c,endDate:n,startView:2,maxView:4,minView:1,autoclose:!0,dateEndHour:59}).on("changeDate",function(){var n=new Date(t.val()),r=new Date(t.val());n.setHours(0,0,0),n.setTime(n.getTime()-24*a*60*60*1e3),e.datepicker("setStartDate",n),e.datepicker("setEndDate",r),i()})}limitChoiceHour($("#start-time-13"),$("#end-time-13"),0);